(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4cf21788"],{"1b44":function(t,a,e){"use strict";e.d(a,"c",(function(){return i})),e.d(a,"d",(function(){return s})),e.d(a,"b",(function(){return o})),e.d(a,"a",(function(){return r}));var n=e("e1d2"),i=function(){return n.a.request({url:"/adm/get_chain",method:"get"})},s=function(t){return n.a.request({url:"/adm/mod_chain",method:"post",data:t})},o=function(t){return n.a.request({url:"/adm/del_chain",method:"post",data:t})},r=function(t){return n.a.request({url:"/adm/add_chain",method:"post",data:t})}},"609b":function(t,a,e){"use strict";e.r(a);var n=(e("b0c0"),e("5d2d")),i=e("1b44"),s=e("9bf1"),o={data:function(){var t=this;return{auth_token:{},add_chain:!1,add_class:!1,is_modify:!1,form:{id:null,icon:"",name:""},formValidate:{name:[{required:!0,message:"名称不能为空",trigger:"blur"}]},chain:{columns:[{title:"名称",key:"name",align:"center",minWidth:10,fixed:"left"},{title:"icon",key:"icon",align:"center",minWidth:10,render:function(t,a){return t("Avatar",{attrs:{src:a.row.icon}})}},{title:"操作",key:"action",width:165,align:"center",resizable:!0,render:function(a,e){return a("a",[a("Icon",{props:{type:"md-create",size:"20",color:"#FFB800"},attrs:{title:"修改"},style:{marginRight:"15px"},on:{click:function(){t.is_modify=!0,t.add_chain=!0,t.form=JSON.parse(JSON.stringify(e.row))}}}),a("Poptip",{props:{confirm:!0,title:"确定要删除吗？"},on:{"on-ok":function(){t.handleDelChain(e.row.id)}}},[a("Icon",{props:{type:"ios-trash",size:"20",color:"#FF5722"},attrs:{title:"删除"}})])])}}],data:[]},new_class_name:"",game_class:{columns:[{title:"id",key:"id",align:"center",minWidth:10,fixed:"left"},{title:"class",key:"class",align:"center"},{title:"操作",key:"action",width:165,align:"center",resizable:!0,render:function(a,e){return a("a",[a("Poptip",{props:{confirm:!0,title:"确定要删除吗？"},on:{"on-ok":function(){t.handleDelClass(e.row.id)}}},[a("Icon",{props:{type:"ios-trash",size:"20",color:"#FF5722"},attrs:{title:"删除"}})])])}}],data:[]}}},methods:{initChainList:function(){var t=this;Object(i.c)().then((function(a){1===a.code&&(t.chain.data=a.data)}))},initGameClass:function(){var t=this;Object(s.c)().then((function(a){1===a.code&&(t.game_class.data=a.data)}))},handleDelChain:function(t){var a=this;Object(i.b)({id:t}).then((function(t){1===t.code&&(a.$Message.success({content:t.data,duration:3}),a.initChainList())}))},handleDelClass:function(t){var a=this;Object(s.b)({id:t}).then((function(t){1===t.code&&(a.$Message.success({content:t.data,duration:3}),a.initGameClass())}))},handleUploadSu:function(t,a){1===t.code&&(this.form.icon=t.data)},handleAddModChain:function(){var t=this;""===this.form.icon||""===this.form.name?this.$Message.warning({content:"请先上传图标和设置名称",duration:3}):this.is_modify?Object(i.d)(this.form).then((function(a){1===a.code?(t.$Message.success({content:a.data,duration:3}),t.initChainList()):t.$Message.error({content:a.data,duration:3}),t.add_chain=!1})):Object(i.a)(this.form).then((function(a){1===a.code?(t.$Message.success({content:a.data,duration:3}),t.initChainList()):t.$Message.error({content:a.data,duration:3}),t.add_chain=!1}))},handleAddClass:function(){var t=this;Object(s.a)({class:this.new_class_name}).then((function(a){1===a.code?(t.$Message.success({content:a.data,duration:3}),t.initGameClass(),t.add_class=!1):t.$Message.warning({content:a.data,duration:3})}))}},mounted:function(){this.initChainList(),this.initGameClass(),this.auth_token={Authorization:n.a.getToken()}}},r=e("2877"),c=Object(r.a)(o,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Card",{staticStyle:{"min-height":"100vh"},attrs:{"dis-hover":""}},[e("Tabs",{attrs:{value:"public-chain"}},[e("TabPane",{attrs:{label:"公链管理",name:"public-chain"}},[e("Modal",{attrs:{width:"360","mask-closable":!1},model:{value:t.add_chain,callback:function(a){t.add_chain=a},expression:"add_chain"}},[e("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[e("Icon",{attrs:{type:"ios-information-circle"}}),e("span",[t._v("Chain信息")])],1),e("div",{staticStyle:{"text-align":"center"}},[e("Form",{attrs:{model:t.form,rules:t.formValidate}},[e("FormItem",{attrs:{label:"名称",prop:"name"}},[e("Input",{attrs:{maxlength:"10","show-word-limit":"",clearable:""},model:{value:t.form.name,callback:function(a){t.$set(t.form,"name",a)},expression:"form.name"}})],1),e("FormItem",{attrs:{label:"图标",prop:"icon"}},[e("Upload",{attrs:{headers:t.auth_token,action:"/adm/fit_img","on-success":t.handleUploadSu,"show-upload-list":!1}},[e("Avatar",{staticStyle:{width:"100px",height:"100px"},attrs:{shape:"square",src:t.form.icon,size:"large"}}),e("p",[t._v("点击上传")])],1)],1)],1)],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{attrs:{type:"success",size:"large",long:""},on:{click:t.handleAddModChain}},[t._v("保存")])],1)]),e("p",{staticStyle:{"text-align":"left",margin:"0 auto"}},[e("Button",{staticStyle:{"margin-bottom":"10px"},on:{click:function(a){t.add_chain=!0,t.is_modify=!1,t.form.id=null,t.form.icon="",t.form.name=""}}},[t._v("添加公链")]),e("Button",{staticStyle:{"margin-bottom":"10px","margin-left":"10px"},attrs:{type:"info",icon:"md-refresh"},on:{click:t.initChainList}},[t._v("刷新")])],1),e("Table",{attrs:{width:"100%",border:"",columns:t.chain.columns,data:t.chain.data}})],1),e("TabPane",{attrs:{label:"游戏类型参数",name:"game-type"}},[e("Modal",{attrs:{width:"360","mask-closable":!1},model:{value:t.add_class,callback:function(a){t.add_class=a},expression:"add_class"}},[e("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[e("Icon",{attrs:{type:"ios-information-circle"}}),e("span",[t._v("游戏类型信息")])],1),e("div",{staticStyle:{"text-align":"center"}},[e("Form",{attrs:{model:t.new_class_name}},[e("FormItem",{attrs:{label:"名称",prop:"name"}},[e("Input",{attrs:{maxlength:"10","show-word-limit":"",clearable:""},model:{value:t.new_class_name,callback:function(a){t.new_class_name=a},expression:"new_class_name"}})],1)],1)],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{attrs:{type:"success",size:"large",long:""},on:{click:t.handleAddClass}},[t._v("保存")])],1)]),e("p",{staticStyle:{"text-align":"left",margin:"0 auto"}},[e("Button",{staticStyle:{"margin-bottom":"10px"},on:{click:function(a){t.add_class=!0,t.new_class_name=""}}},[t._v("添加游戏类型")]),e("Button",{staticStyle:{"margin-bottom":"10px","margin-left":"10px"},attrs:{type:"info",icon:"md-refresh"},on:{click:t.initGameClass}},[t._v("刷新")])],1),e("Table",{attrs:{width:"100%",border:"",columns:t.game_class.columns,data:t.game_class.data}})],1)],1)],1)}),[],!1,null,null,null);a.default=c.exports},"9bf1":function(t,a,e){"use strict";e.d(a,"c",(function(){return i})),e.d(a,"b",(function(){return s})),e.d(a,"a",(function(){return o}));var n=e("e1d2"),i=function(){return n.a.request({url:"/adm/get_class",method:"get"})},s=function(t){return n.a.request({url:"/adm/del_class",method:"post",data:t})},o=function(t){return n.a.request({url:"/adm/add_class",method:"post",data:t})}}}]);