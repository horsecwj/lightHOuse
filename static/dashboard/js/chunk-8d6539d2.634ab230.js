(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-8d6539d2"],{"159b":function(t,e,n){var a=n("da84"),r=n("fdbc"),o=n("17c2"),i=n("9112");for(var c in r){var s=a[c],l=s&&s.prototype;if(l&&l.forEach!==o)try{i(l,"forEach",o)}catch(t){l.forEach=o}}},"17c2":function(t,e,n){"use strict";var a=n("b727").forEach,r=n("a640")("forEach");t.exports=r?[].forEach:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},"1b44":function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return c}));var a=n("e1d2"),r=function(){return a.a.request({url:"/adm/get_chain",method:"get"})},o=function(t){return a.a.request({url:"/adm/mod_chain",method:"post",data:t})},i=function(t){return a.a.request({url:"/adm/del_chain",method:"post",data:t})},c=function(t){return a.a.request({url:"/adm/add_chain",method:"post",data:t})}},"1dde":function(t,e,n){var a=n("d039"),r=n("b622"),o=n("2d00"),i=r("species");t.exports=function(t){return o>=51||!a((function(){var e=[];return(e.constructor={})[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"65f0":function(t,e,n){var a=n("861d"),r=n("e8b5"),o=n("b622")("species");t.exports=function(t,e){var n;return r(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!r(n.prototype)?a(n)&&(null===(n=n[o])&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},"6ad6":function(t,e,n){"use strict";n.r(e);var a,r=(n("159b"),n("b0c0"),n("ac1f"),n("5319"),n("1276"),n("d3b7"),n("25f0"),n("99af"),n("7db0"),n("5d2d")),o=n("89cb"),i=n("1b44"),c=n("9bf1"),s=n("6d32"),l=n("b9a9"),u=n("ca72"),d=n("91b6"),f={components:{editor:u.a},beforeCreate:function(){a=this},data:function(){var t=this;return{auth_token:{},isModify:!1,form:{addModal:!1,select:{currency:[],chain:[],class:[],label:[]},formValidate:{id:null,game_name:"",cover:"",summary:"",status:2,lang:"cn",currency:[],chain:[],label:[],class:[],telegram:"",facebook:"",twitter:"",youtube:"",game_url:"",guide:"",release:0,about_games:"",new:[],stragegy:"",revenue_analysis:"",created:new Date},ruleValidate:{}},tableColumns:[{title:"游戏名称",key:"game_name",align:"center",fixed:"left"},{title:"Token",render:function(t,e){var n=[];return e.row.currency.forEach((function(e){n.push(t("Tag",{props:{color:"green"}},e.currency_name))})),t("p",[n])}},{title:"公链",render:function(t,e){var n=[];return e.row.chain.forEach((function(e){n.push(t("Tag",{props:{color:"blue"}},e.name))})),t("p",[n])}},{title:"类型",render:function(t,e){var n=[];return e.row.class.forEach((function(e){n.push(t("Tag",{props:{color:"purple"}},e.class))})),t("p",[n])}},{title:"发布状态",render:function(t,e){switch(e.row.status){case 1:return t("Tag","测试中");case 2:return t("Tag","正式运营");case 3:return t("Tag","开发中");case 4:return t("Tag","预售中")}}},{title:"状态",render:function(t,e){switch(e.row.release){case 0:return t("Tag","草稿");case 1:return t("Tag","发布")}}},{title:"语言",width:90,render:function(t,e){switch(e.row.lang){case"cn":return t("Tag","中文");case"en":return t("Tag","英文")}}},{title:"创建日期",align:"center",width:180,resizable:!0,render:function(t,e){return t("div",e.row.created.replace(/T|\+08:00/g," "))},sortable:!1},{title:"操作",key:"action",width:130,align:"center",resizable:!0,render:function(e,n){return e("a",[e("Icon",{props:{type:"md-eye",size:"20",color:"#5FB878"},attrs:{title:"预览"},style:{marginRight:"15px"},on:{click:function(){window.open(n.row.uri)}}}),e("Icon",{props:{type:"md-create",size:"20",color:"#FFB800"},attrs:{title:"修改"},style:{marginRight:"15px"},on:{click:function(){t.isModify=!0,t.form.formValidate=JSON.parse(JSON.stringify(n.row)),t.form.select.currency=[],t.form.formValidate.currency.forEach((function(e){t.form.select.currency.push(e.id)})),t.form.select.chain=[],t.form.formValidate.chain.forEach((function(e){t.form.select.chain.push(e.id)})),t.form.select.class=[],t.form.formValidate.class.forEach((function(e){t.form.select.class.push(e.id)})),t.form.select.label=[],t.form.formValidate.label.forEach((function(e){t.form.select.label.push(e.id)})),t.form.addModal=!0}}}),e("Poptip",{props:{confirm:!0,title:"确定要删除吗？"},on:{"on-ok":function(){t.handleDelGame(n.row.id)}}},[e("Icon",{props:{type:"ios-trash",size:"20",color:"#FF5722"},attrs:{title:"删除"}})])])}}],tableData:[],game_currency:[],game_chain:[],game_class:[],game_label:[],page:{article_num:0,page:1,page_num:0,page_size:0},editorInit:{selector:"about_games",language:"zh_CN",height:450,plugins:"link lists image code table colorpicker textcolor wordcount contextmenu media",toolbar:"bold italic underline strikethrough | fontsizeselect | forecolor backcolor | alignleft aligncenter alignright alignjustify|bullist numlist |outdent indent blockquote | undo redo | link unlink image code media | removeformat",branding:!1,menubar:!0,images_upload_handler:d.a,file_picker_types:"media",file_picker_callback:function(t,e,n){if("media"===n.filetype){var r=document.createElement("input");r.setAttribute("type","file"),r.setAttribute("accept","video/mp4,video/AVI,video/mov,video/FLV,video/rmvb,video/mtv,video/mpeg"),r.onchange=function(e){var n=this.files[0],r=n.name.split(".")[1];if("mp4"!==r&&"AVI"!==r&&"mov"!==r&&"FLV"!==r&&"rmvb"!==r&&"wmv"!==r&&"mtv"!==r&&"mpg"!==r&&"mpeg"!==r)return a.$Message.error({content:"上传资源只能是 AVI/mov/rmvb/FLV/mp4/wmv/mtv/mpg/mpeg 格式的视频!",duration:5}),!1;var o=new FormData;o.set("file",n),Object(d.b)(o).then((function(e){1===e.data.code?(a.$Message.success({content:"上传成功:"+e.data.data,duration:3}),t(e.data.data,{title:"名字"})):a.$Message.error({content:"上传失败:"+e.data.data,duration:3})})).catch((function(t){a.$Message.error({content:"上传失败:"+t.toString(),duration:3})}))},r.click()}},media_url_resolver:function(t,e){try{var n=encodeURI(t.url);e({html:'<p>\n                        <span\n                            class="mce-object mce-object-video"\n                            data-mce-selected="1"\n                            data-mce-object="video"\n                            data-mce-p-width="100%"\n                            data-mce-p-height="auto"\n                            data-mce-p-controls="controls"\n                            data-mce-p-controlslist="nodownload"\n                            data-mce-p-allowfullscreen="true"\n                            data-mce-p-src='.concat(n," >\n                            <video src=").concat(t.url,' width="100%" height="auto" controls="controls" controlslist="nodownload">\n                            </video>\n                        </span>\n                        </p>\n                        <p style="text-align: left;"></p>')})}catch(t){e({html:""})}}}}},methods:{initChain:function(){var t=this;Object(l.c)().then((function(e){1===e.code&&(t.game_currency=e.data)})),Object(i.c)().then((function(e){1===e.code&&(t.game_chain=e.data)})),Object(c.c)().then((function(e){1===e.code&&(t.game_class=e.data)})),Object(s.c)().then((function(e){1===e.code&&(t.game_label=e.data)}))},handleActionAdd:function(){this.form.addModal=!0,this.isModify=!1,this.form.formValidate={id:null,game_name:"",cover:"",summary:"",status:2,lang:"cn",currency:[],chain:[],label:[],class:[],telegram:"",facebook:"",twitter:"",youtube:"",game_url:"",guide:"",release:0,about_games:"",new:[],stragegy:"",revenue_analysis:"",created:new Date},this.form.select.currency=[],this.form.select.chain=[],this.form.select.class=[],this.form.select.label=[]},handleActionGame:function(){var t=this;this.isModify?Object(o.d)(this.form.formValidate).then((function(e){1===e.code&&(t.initGameList(),t.$Message.success({content:e.data,duration:3}))})):Object(o.a)(this.form.formValidate).then((function(e){1===e.code&&(t.initGameList(),t.$Message.success({content:e.data,duration:3}))})),this.form.addModal=!1},handleDraft:function(){this.form.formValidate.release=0,this.handleActionGame()},handleRelease:function(){this.form.formValidate.release=1,this.handleActionGame()},handleChangeCurrency:function(t){var e=this;this.form.formValidate.currency=[],t.forEach((function(t){e.game_currency.find((function(n){n.id===t&&e.form.formValidate.currency.push(n)}))}))},handleChangeChain:function(t){var e=this;this.form.formValidate.chain=[],t.forEach((function(t){e.game_chain.find((function(n){n.id===t&&e.form.formValidate.chain.push(n)}))}))},handleChangeClass:function(t){var e=this;this.form.formValidate.class=[],t.forEach((function(t){e.game_class.find((function(n){n.id===t&&e.form.formValidate.class.push(n)}))}))},handleChangeLabel:function(t){var e=this,n=[];t.forEach((function(t){e.game_label.find((function(e){e.id===t&&n.push(e)}))})),this.form.formValidate.label=n},initGameList:function(){var t=this;Object(o.c)(this.page).then((function(e){1===e.code&&(t.page.article_num=e.article_num,t.page.page=e.page,t.page.page_size=e.page_size,t.page.page_num=e.page_num,t.tableData=e.data)}))},handleSuUpload:function(t,e){this.form.formValidate.cover=t.data},handleDelGame:function(t){var e=this;Object(o.b)({id:t}).then((function(t){e.initGameList()}))},onPiChange:function(t){this.page.page=t,this.initGameList()},onPsChange:function(t){this.page.page=1,this.page.page_size=t,this.initGameList()}},mounted:function(){this.initChain(),this.initGameList(),this.auth_token={Authorization:r.a.getToken()}}},m=n("2877"),p=Object(m.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.form.addModal?n("Card",{staticStyle:{"min-height":"100vh"},attrs:{"dis-hover":""}},[n("p",{staticStyle:{"text-align":"left",margin:"0 auto"}},[n("Button",{staticStyle:{margin:"10px"},on:{click:function(e){t.form.addModal=!1}}},[t._v("返回列表")])],1),n("Form",{ref:"formValidate",attrs:{model:t.form.formValidate,rules:t.form.ruleValidate,"label-width":80}},[n("FormItem",{staticStyle:{height:"200px"},attrs:{prop:"cover",label:"封面"}},[n("div",{staticStyle:{height:"160px","max-width":"100%",border:"1px solid #000000"}},[n("img",{staticStyle:{height:"160px","max-width":"100%"},attrs:{src:t.form.formValidate.cover}})]),n("Upload",{attrs:{multiple:!1,headers:t.auth_token,action:"/adm/fit_img","on-success":t.handleSuUpload,"show-upload-list":!1}},[n("Button",{staticStyle:{width:"160px"},attrs:{type:"primary"}},[t._v("上传封面")])],1)],1),n("FormItem",{attrs:{prop:"game_name",label:"游戏名称"}},[n("Input",{model:{value:t.form.formValidate.game_name,callback:function(e){t.$set(t.form.formValidate,"game_name",e)},expression:"form.formValidate.game_name"}})],1),n("FormItem",{attrs:{prop:"game_url",label:"游戏官网"}},[n("Input",{model:{value:t.form.formValidate.game_url,callback:function(e){t.$set(t.form.formValidate,"game_url",e)},expression:"form.formValidate.game_url"}})],1),n("FormItem",{attrs:{prop:"chain",label:"关联token"}},[n("Select",{attrs:{multiple:""},on:{"on-change":t.handleChangeCurrency},model:{value:t.form.select.currency,callback:function(e){t.$set(t.form.select,"currency",e)},expression:"form.select.currency"}},t._l(t.game_currency,(function(e){return n("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.currency_name))])})),1)],1),n("FormItem",{attrs:{prop:"chain",label:"所在公链"}},[n("Select",{attrs:{multiple:""},on:{"on-change":t.handleChangeChain},model:{value:t.form.select.chain,callback:function(e){t.$set(t.form.select,"chain",e)},expression:"form.select.chain"}},t._l(t.game_chain,(function(e){return n("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1)],1),n("FormItem",{attrs:{prop:"telegram",label:"Telegram"}},[n("Input",{model:{value:t.form.formValidate.telegram,callback:function(e){t.$set(t.form.formValidate,"telegram",e)},expression:"form.formValidate.telegram"}})],1),n("FormItem",{attrs:{prop:"facebook",label:"Facebook"}},[n("Input",{model:{value:t.form.formValidate.facebook,callback:function(e){t.$set(t.form.formValidate,"facebook",e)},expression:"form.formValidate.facebook"}})],1),n("FormItem",{attrs:{prop:"twitter",label:"Twitter"}},[n("Input",{model:{value:t.form.formValidate.twitter,callback:function(e){t.$set(t.form.formValidate,"twitter",e)},expression:"form.formValidate.twitter"}})],1),n("FormItem",{attrs:{prop:"youtube",label:"Youtube"}},[n("Input",{model:{value:t.form.formValidate.youtube,callback:function(e){t.$set(t.form.formValidate,"youtube",e)},expression:"form.formValidate.youtube"}})],1),n("FormItem",{attrs:{prop:"introduce",label:"游戏摘要"}},[n("Input",{attrs:{maxlength:"150","show-word-limit":"",type:"textarea"},model:{value:t.form.formValidate.summary,callback:function(e){t.$set(t.form.formValidate,"summary",e)},expression:"form.formValidate.summary"}})],1),n("FormItem",{attrs:{prop:"chain",label:"游戏类型"}},[n("Select",{attrs:{multiple:""},on:{"on-change":t.handleChangeClass},model:{value:t.form.select.class,callback:function(e){t.$set(t.form.select,"class",e)},expression:"form.select.class"}},t._l(t.game_class,(function(e){return n("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.class))])})),1)],1),n("FormItem",{attrs:{prop:"chain",label:"发布状态"}},[n("Select",{staticStyle:{width:"200px"},model:{value:t.form.formValidate.status,callback:function(e){t.$set(t.form.formValidate,"status",e)},expression:"form.formValidate.status"}},t._l([{id:1,label:"测试中"},{id:2,label:"正式运营"},{id:3,label:"开发中"},{id:4,label:"预售中"}],(function(e){return n("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.label))])})),1)],1),n("FormItem",{attrs:{prop:"chain",label:"标签"}},[n("Select",{attrs:{multiple:""},on:{"on-change":t.handleChangeLabel},model:{value:t.form.select.label,callback:function(e){t.$set(t.form.select,"label",e)},expression:"form.select.label"}},t._l(t.game_label,(function(e){return n("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.word))])})),1)],1),n("FormItem",{attrs:{prop:"about_games",label:"About Games"}},[n("editor",{attrs:{"api-key":"pnms95lkhfg76fqrpshmbviwsvs9enk6zfwfryerc47bauao","initial-value":t.form.formValidate.about_games,"output-format":"html",init:t.editorInit},model:{value:t.form.formValidate.about_games,callback:function(e){t.$set(t.form.formValidate,"about_games",e)},expression:"form.formValidate.about_games"}})],1),n("FormItem",{attrs:{prop:"stragegy",label:"Strategy"}},[n("editor",{attrs:{"api-key":"pnms95lkhfg76fqrpshmbviwsvs9enk6zfwfryerc47bauao","initial-value":t.form.formValidate.stragegy,"output-format":"html",init:t.editorInit},model:{value:t.form.formValidate.stragegy,callback:function(e){t.$set(t.form.formValidate,"stragegy",e)},expression:"form.formValidate.stragegy"}})],1),n("FormItem",{attrs:{prop:"revenue_analysis",label:"Revenue Analysis"}},[n("editor",{attrs:{"api-key":"pnms95lkhfg76fqrpshmbviwsvs9enk6zfwfryerc47bauao","initial-value":t.form.formValidate.revenue_analysis,"output-format":"html",init:t.editorInit},model:{value:t.form.formValidate.revenue_analysis,callback:function(e){t.$set(t.form.formValidate,"revenue_analysis",e)},expression:"form.formValidate.revenue_analysis"}})],1),n("FormItem",{attrs:{prop:"created",label:"上线时间"}},[n("DatePicker",{attrs:{type:"datetime",placeholder:"选择发布日期和时间",editable:!1},model:{value:t.form.formValidate.created,callback:function(e){t.$set(t.form.formValidate,"created",e)},expression:"form.formValidate.created"}})],1),n("FormItem",[n("Button",{attrs:{type:"info"},on:{click:t.handleDraft}},[t._v("存草稿")]),n("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.handleRelease}},[t._v("发布")])],1)],1)],1):n("Card",{staticStyle:{"min-height":"100vh"},attrs:{"dis-hover":""}},[n("p",{staticStyle:{"text-align":"left",margin:"0 auto"}},[n("Button",{staticStyle:{"margin-bottom":"10px"},on:{click:t.handleActionAdd}},[t._v("添加游戏")]),n("Button",{staticStyle:{"margin-bottom":"10px","margin-left":"10px"},attrs:{type:"info",icon:"md-refresh"},on:{click:t.initGameList}},[t._v("刷新")])],1),n("Table",{attrs:{width:"100%",border:"",columns:t.tableColumns,data:t.tableData}}),n("br"),n("Page",{attrs:{total:t.page.article_num,current:t.page.page,"page-size":t.page.page_size,"page-size-opts":[8,10,12,15,20,30],"show-sizer":"","show-elevator":"","show-total":""},on:{"update:current":function(e){return t.$set(t.page,"page",e)},"on-change":t.onPiChange,"on-page-size-change":t.onPsChange}})],1)}),[],!1,null,null,null);e.default=p.exports},"6d32":function(t,e,n){"use strict";n.d(e,"d",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return c}));var a=n("e1d2"),r=function(t){return a.a.request({url:"/adm/mod_label",method:"post",data:t})},o=function(){return a.a.request({url:"/adm/get_label",method:"get"})},i=function(t){return a.a.request({url:"/adm/del_label",method:"post",data:t})},c=function(t){return a.a.request({url:"/adm/add_label",method:"post",data:t})}},"7db0":function(t,e,n){"use strict";var a=n("23e7"),r=n("b727").find,o=n("44d2"),i="find",c=!0;i in[]&&Array(1)[i]((function(){c=!1})),a({target:"Array",proto:!0,forced:c},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o(i)},8418:function(t,e,n){"use strict";var a=n("c04e"),r=n("9bf2"),o=n("5c6c");t.exports=function(t,e,n){var i=a(e);i in t?r.f(t,i,o(0,n)):t[i]=n}},"89cb":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return c}));var a=n("e1d2"),r=function(t){return a.a.request({url:"/adm/add_game",method:"post",data:t})},o=function(t){return a.a.request({url:"/adm/del_game",method:"post",data:t})},i=function(t){return a.a.request({url:"/adm/mod_game",method:"post",data:t})},c=function(t){return a.a.request({url:"/adm/get_game",method:"get",params:t})}},"91b6":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return c}));var a=n("bc3a"),r=n.n(a),o=n("5d2d"),i=function(t){return r.a.request({url:"/adm/fit_img",headers:{Authorization:o.a.getToken(),"Content-Type":"multipart/form-data"},method:"post",data:t})},c=function(t,e,n){var a=new FormData;a.append("file",t.blob(),t.filename()),i(a).then((function(t){200===t.status?1===t.data.code?e(t.data.data):n(t.data.data):n(t.status)}))}},"99af":function(t,e,n){"use strict";var a=n("23e7"),r=n("d039"),o=n("e8b5"),i=n("861d"),c=n("7b0b"),s=n("50c4"),l=n("8418"),u=n("65f0"),d=n("1dde"),f=n("b622"),m=n("2d00"),p=f("isConcatSpreadable"),h=9007199254740991,g="Maximum allowed index exceeded",b=m>=51||!r((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),v=d("concat"),y=function(t){if(!i(t))return!1;var e=t[p];return void 0!==e?!!e:o(t)};a({target:"Array",proto:!0,forced:!b||!v},{concat:function(t){var e,n,a,r,o,i=c(this),d=u(i,0),f=0;for(e=-1,a=arguments.length;e<a;e++)if(y(o=-1===e?i:arguments[e])){if(f+(r=s(o.length))>h)throw TypeError(g);for(n=0;n<r;n++,f++)n in o&&l(d,f,o[n])}else{if(f>=h)throw TypeError(g);l(d,f++,o)}return d.length=f,d}})},"9bf1":function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"d",(function(){return c}));var a=n("e1d2"),r=function(){return a.a.request({url:"/adm/get_class",method:"get"})},o=function(t){return a.a.request({url:"/adm/del_class",method:"post",data:t})},i=function(t){return a.a.request({url:"/adm/add_class",method:"post",data:t})},c=function(t){return a.a.request({url:"/adm/mod_class",method:"post",data:t})}},a640:function(t,e,n){"use strict";var a=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&a((function(){n.call(null,e||function(){throw 1},1)}))}},b727:function(t,e,n){var a=n("0366"),r=n("44ad"),o=n("7b0b"),i=n("50c4"),c=n("65f0"),s=[].push,l=function(t){var e=1==t,n=2==t,l=3==t,u=4==t,d=6==t,f=7==t,m=5==t||d;return function(p,h,g,b){for(var v,y,_=o(p),w=r(_),k=a(h,g,3),V=i(w.length),$=0,x=b||c,C=e?x(p,V):n||f?x(p,0):void 0;V>$;$++)if((m||$ in w)&&(y=k(v=w[$],$,_),t))if(e)C[$]=y;else if(y)switch(t){case 3:return!0;case 5:return v;case 6:return $;case 2:s.call(C,v)}else switch(t){case 4:return!1;case 7:s.call(C,v)}return d?-1:l||u?u:C}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},b9a9:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return c}));var a=n("e1d2"),r=function(t){return a.a.request({url:"/adm/add_currency",method:"post",data:t})},o=function(t){return a.a.request({url:"/adm/del_currency",method:"post",data:t})},i=function(t){return a.a.request({url:"/adm/mod_currency",method:"post",data:t})},c=function(){return a.a.request({url:"/adm/get_currency",method:"get"})}},c4a9:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return r}));var a=function(){return"undefined"!=typeof window?window:t},r=function(){var t=a();return t&&t.tinymce?t.tinymce:null}}).call(this,n("c8ba"))},ca72:function(t,e,n){"use strict";var a=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],r=function(t){return-1!==a.map((function(t){return t.toLowerCase()})).indexOf(t.toLowerCase())},o=function(t,e,n){Object.keys(e).filter(r).forEach((function(a){var r=e[a];"function"==typeof r&&("onInit"===a?r(t,n):n.on(a.substring(2),(function(t){return r(t,n)})))}))},i=function(t,e,n){var a=e.$props.value?e.$props.value:"",r=e.$props.initialValue?e.$props.initialValue:"";n.setContent(a||(e.initialized?e.cache:r)),e.$watch("value",(function(t,a){n&&"string"==typeof t&&t!==a&&t!==n.getContent({format:e.$props.outputFormat})&&n.setContent(t)})),e.$listeners.input&&function(t,e){var n=t.$props.modelEvents?t.$props.modelEvents:null,a=Array.isArray(n)?n.join(" "):n;e.on(a||"change input undo redo",(function(){t.$emit("input",e.getContent({format:t.$props.outputFormat}))}))}(e,n),o(t,e.$listeners,n),e.initialized=!0},c=0,s=function(t){var e=Date.now();return t+"_"+Math.floor(1e9*Math.random())+ ++c+String(e)},l=function(t){return void 0===t||""===t?[]:Array.isArray(t)?t:t.split(" ")},u=function(t,e){return l(t).concat(l(e))},d=function(){return{listeners:[],scriptId:s("tiny-script"),scriptLoaded:!1}},f=function(){var t=d();return{load:function(e,n,a){t.scriptLoaded?a():(t.listeners.push(a),e.getElementById(t.scriptId)||function(t,e,n,a){var r=e.createElement("script");r.referrerPolicy="origin",r.type="application/javascript",r.id=t,r.src=n;var o=function(){r.removeEventListener("load",o),a()};r.addEventListener("load",o),e.head&&e.head.appendChild(r)}(t.scriptId,e,n,(function(){t.listeners.forEach((function(t){return t()})),t.scriptLoaded=!0})))},reinitialize:function(){t=d()}}}(),m=n("c4a9"),p={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(t){return"html"===t||"text"===t}}},h=function(){return(h=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},g=function(t){return function(){var e=h(h({},t.$props.init),{readonly:t.$props.disabled,selector:"#"+t.elementId,plugins:u(t.$props.init&&t.$props.init.plugins,t.$props.plugins),toolbar:t.$props.toolbar||t.$props.init&&t.$props.init.toolbar,inline:t.inlineEditor,setup:function(e){t.editor=e,e.on("init",(function(n){return i(n,t,e)})),t.$props.init&&"function"==typeof t.$props.init.setup&&t.$props.init.setup(e)}});(function(t){return null!==t&&"textarea"===t.tagName.toLowerCase()})(t.element)&&(t.element.style.visibility="",t.element.style.display=""),Object(m.a)().init(e)}},b={props:p,created:function(){this.elementId=this.$props.id||s("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline,this.initialized=!1},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,null!==Object(m.a)())g(this)();else if(this.element&&this.element.ownerDocument){var t=this.$props.cloudChannel?this.$props.cloudChannel:"5",e=this.$props.apiKey?this.$props.apiKey:"no-api-key",n=function(t){return null==t}(this.$props.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+e+"/tinymce/"+t+"/tinymce.min.js":this.$props.tinymceScriptSrc;f.load(this.element.ownerDocument,n,g(this))}},beforeDestroy:function(){null!==Object(m.a)()&&Object(m.a)().remove(this.editor)},deactivated:function(){var t;this.inlineEditor||(this.cache=this.editor.getContent(),null===(t=Object(m.a)())||void 0===t||t.remove(this.editor))},activated:function(){!this.inlineEditor&&this.initialized&&g(this)()},render:function(t){return this.inlineEditor?function(t,e,n){return t(n||"div",{attrs:{id:e}})}(t,this.elementId,this.$props.tagName):function(t,e){return t("textarea",{attrs:{id:e},style:{visibility:"hidden"}})}(t,this.elementId)}};e.a=b},e8b5:function(t,e,n){var a=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==a(t)}}}]);