(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2f81e3dc"],{"1b44":function(t,e,a){"use strict";a.d(e,"c",(function(){return n})),a.d(e,"d",(function(){return o})),a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return u}));var r=a("e1d2"),n=function(){return r.a.request({url:"/adm/get_chain",method:"get"})},o=function(t){return r.a.request({url:"/adm/mod_chain",method:"post",data:t})},i=function(t){return r.a.request({url:"/adm/del_chain",method:"post",data:t})},u=function(t){return r.a.request({url:"/adm/add_chain",method:"post",data:t})}},"6d32":function(t,e,a){"use strict";a.d(e,"d",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return u}));var r=a("e1d2"),n=function(t){return r.a.request({url:"/adm/mod_label",method:"post",data:t})},o=function(){return r.a.request({url:"/adm/get_label",method:"get"})},i=function(t){return r.a.request({url:"/adm/del_label",method:"post",data:t})},u=function(t){return r.a.request({url:"/adm/add_label",method:"post",data:t})}},"7ebf":function(t,e,a){"use strict";a.r(e);var r=(a("ac1f"),a("5319"),a("5d2d")),n=(a("89cb"),a("1b44"),a("9bf1"),a("6d32"),a("b9a9")),o={data:function(){var t=this;return{auth_token:{},isModify:!1,form:{addModal:!1,formValidate:{id:null,address:"",currency_name:"",flow_amount:null,logo:"",max_amount:null,value:null,issue_at:new Date},ruleValidate:{}},tableColumns:[{title:"id",key:"id",align:"center",fixed:"left"},{title:"address",key:"address",align:"center"},{title:"代币名称",key:"currency_name",align:"center",render:function(t,e){return t("Tag",{props:{color:"green"}},e.row.currency_name)}},{title:"流通量",key:"flow_amount",align:"center"},{title:"发布于",align:"center",width:180,render:function(t,e){return t("div",e.row.issue_at.replace(/T|\+08:00/g," "))}},{title:"logo",align:"center",render:function(t,e){return t("Avatar",{attrs:{src:e.row.logo}})}},{title:"最大供应量",align:"center",key:"max_amount"},{title:"市值",align:"center",key:"value"},{title:"操作",key:"action",align:"center",width:100,render:function(e,a){return e("a",[e("Icon",{props:{type:"md-create",size:"20",color:"#FFB800"},attrs:{title:"修改"},style:{marginRight:"15px"},on:{click:function(){t.form.formValidate=JSON.parse(JSON.stringify(a.row)),t.isModify=!0,t.form.addModal=!0}}}),e("Poptip",{props:{confirm:!0,title:"确定要删除吗？"},on:{"on-ok":function(){t.handleDelCurrency(a.row.id)}}},[e("Icon",{props:{type:"ios-trash",size:"20",color:"#FF5722"},attrs:{title:"删除"}})])])}}],tableData:[]}},methods:{initCurrency:function(){var t=this;Object(n.c)().then((function(e){1===e.code&&(t.tableData=e.data)}))},handleDelCurrency:function(t){var e=this;Object(n.b)({id:t}).then((function(t){1===t.code?(e.$Message.success({content:t.data,duration:3}),e.initCurrency()):e.$Message.error({content:t.data,duration:3})}))},handleActionAdd:function(){this.isModify=!1,this.form.addModal=!0,this.form.formValidate={id:null,address:"",currency_name:"",flow_amount:null,logo:"",max_amount:null,value:null,issue_at:new Date}},handleSuUpload:function(t,e){1===t.code&&(this.form.formValidate.logo=t.data)},handleRelease:function(){var t=this;this.isModify?Object(n.d)(this.form.formValidate).then((function(e){1===e.code?(t.$Message.success({content:e.data,duration:3}),t.initCurrency(),t.isModify=!1,t.form.addModal=!1):t.$Message.error({content:e.data,duration:3})})):Object(n.a)(this.form.formValidate).then((function(e){1===e.code?(t.$Message.success({content:e.data,duration:3}),t.initCurrency(),t.isModify=!1,t.form.addModal=!1):t.$Message.error({content:e.data,duration:3})}))}},mounted:function(){this.initCurrency(),this.auth_token={Authorization:r.a.getToken()}}},i=a("2877"),u=Object(i.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.form.addModal?a("Card",{staticStyle:{"min-height":"100vh"},attrs:{"dis-hover":""}},[a("p",{staticStyle:{"text-align":"left",margin:"0 auto"}},[a("Button",{staticStyle:{margin:"10px"},on:{click:function(e){t.form.addModal=!1}}},[t._v("返回列表")])],1),a("Form",{ref:"formValidate",attrs:{model:t.form.formValidate,rules:t.form.ruleValidate,"label-width":100}},[a("FormItem",{staticStyle:{height:"200px"},attrs:{prop:"logo",label:"设置Logo"}},[a("div",{staticStyle:{"margin-left":"10px"}},[a("Avatar",{staticStyle:{height:"160px",width:"160px","margin-bottom":"10px"},attrs:{src:t.form.formValidate.logo,size:"large"}}),a("Upload",{attrs:{multiple:!1,headers:t.auth_token,action:"/adm/fit_img","on-success":t.handleSuUpload,"show-upload-list":!1}},[a("Button",{staticStyle:{width:"160px"},attrs:{type:"primary"}},[t._v("上传logo")])],1)],1)]),a("FormItem",{attrs:{prop:"currency_name",label:"代币名称"}},[a("Input",{model:{value:t.form.formValidate.currency_name,callback:function(e){t.$set(t.form.formValidate,"currency_name",e)},expression:"form.formValidate.currency_name"}})],1),a("FormItem",{attrs:{prop:"address",label:"address"}},[a("Input",{model:{value:t.form.formValidate.address,callback:function(e){t.$set(t.form.formValidate,"address",e)},expression:"form.formValidate.address"}})],1),a("FormItem",{attrs:{prop:"flow_amount",label:"流通量"}},[a("InputNumber",{staticStyle:{width:"100%"},attrs:{"controls-outside":""},model:{value:t.form.formValidate.flow_amount,callback:function(e){t.$set(t.form.formValidate,"flow_amount",e)},expression:"form.formValidate.flow_amount"}})],1),a("FormItem",{attrs:{prop:"max_amount",label:"最大供应量"}},[a("InputNumber",{staticStyle:{width:"100%"},attrs:{"controls-outside":""},model:{value:t.form.formValidate.max_amount,callback:function(e){t.$set(t.form.formValidate,"max_amount",e)},expression:"form.formValidate.max_amount"}})],1),a("FormItem",{attrs:{prop:"value",label:"市值"}},[a("InputNumber",{staticStyle:{width:"100%"},attrs:{"controls-outside":""},model:{value:t.form.formValidate.value,callback:function(e){t.$set(t.form.formValidate,"value",e)},expression:"form.formValidate.value"}})],1),a("FormItem",{attrs:{prop:"issue_at",label:"上线时间"}},[a("DatePicker",{attrs:{type:"datetime",placeholder:"选择发布日期和时间",editable:!1},model:{value:t.form.formValidate.issue_at,callback:function(e){t.$set(t.form.formValidate,"issue_at",e)},expression:"form.formValidate.issue_at"}})],1),a("FormItem",[a("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.handleRelease}},[t._v("发布")])],1)],1)],1):a("Card",{staticStyle:{"min-height":"100vh"},attrs:{"dis-hover":""}},[a("p",{staticStyle:{"text-align":"left",margin:"0 auto"}},[a("Button",{staticStyle:{"margin-bottom":"10px"},on:{click:t.handleActionAdd}},[t._v("添加代币")]),a("Button",{staticStyle:{"margin-bottom":"10px","margin-left":"10px"},attrs:{type:"info",icon:"md-refresh"},on:{click:t.initCurrency}},[t._v("刷新")])],1),a("Table",{attrs:{width:"100%",border:"",columns:t.tableColumns,data:t.tableData}})],1)}),[],!1,null,null,null);e.default=u.exports},"89cb":function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return o})),a.d(e,"d",(function(){return i})),a.d(e,"c",(function(){return u}));var r=a("e1d2"),n=function(t){return r.a.request({url:"/adm/add_game",method:"post",data:t})},o=function(t){return r.a.request({url:"/adm/del_game",method:"post",data:t})},i=function(t){return r.a.request({url:"/adm/mod_game",method:"post",data:t})},u=function(t){return r.a.request({url:"/adm/get_game",method:"get",params:t})}},"9bf1":function(t,e,a){"use strict";a.d(e,"c",(function(){return n})),a.d(e,"b",(function(){return o})),a.d(e,"a",(function(){return i}));var r=a("e1d2"),n=function(){return r.a.request({url:"/adm/get_class",method:"get"})},o=function(t){return r.a.request({url:"/adm/del_class",method:"post",data:t})},i=function(t){return r.a.request({url:"/adm/add_class",method:"post",data:t})}},b9a9:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return o})),a.d(e,"d",(function(){return i})),a.d(e,"c",(function(){return u}));var r=a("e1d2"),n=function(t){return r.a.request({url:"/adm/add_currency",method:"post",data:t})},o=function(t){return r.a.request({url:"/adm/del_currency",method:"post",data:t})},i=function(t){return r.a.request({url:"/adm/mod_currency",method:"post",data:t})},u=function(){return r.a.request({url:"/adm/get_currency",method:"get"})}}}]);